import{u as w,s as S,P as _}from"./chunks/theme.CIfjWN_F.js";import{_ as D,r as y,k as z,j as P,l as C,q as p,s as v,B as c,x as $,F as M,y as j,z as k,D as B,M as I,W as V,X as F,P as T,u as L,v as h,E as x}from"./chunks/framework.kjQ2uxMH.js";import{T as O}from"./chunks/Tab.B9aY0CNo.js";const R={key:0,class:"pagination"},E={class:"page-number"},J=["onClick"],K={class:"page-num"},U=["max"],q={__name:"Pagination",props:{total:{type:Number,default:0},page:{type:Number,default:1},limit:{type:Number,default:5},routePath:{type:String,default:""},useParams:{type:Boolean,default:!1},wingSize:{type:Number,default:1}},setup(u){const t=u,s=y(null),m=y(!1),d=z(),l=y(t.page),o=P(()=>Math.ceil(t.total/t.limit)),b=P(()=>{let n=[],e=Math.max(l.value-t.wingSize,2),a=Math.min(l.value+t.wingSize,o.value-1);n.push(1),e>2?n.push("..."):e=2;for(let f=e;f<=a;f++)n.push(f);return a<o.value-1?n.push("..."):a===o.value-1&&(a=o.value-1),o.value>1&&n.push(o.value),n}),r=()=>{const n=Number(s.value);!Number.isInteger(n)||n<1?s.value=null:n>o.value?s.value=o.value:s.value=n},i=(n,e)=>{t.useParams?e===1?d.go(`${t.routePath}`):d.go(`${t.routePath}?page=${e}`):d.go(n)},g=()=>{if(m.value=!1,!s.value)return!1;i(s.value===1?`${t.routePath}`:`${t.routePath}/page/${s.value}`,s.value)},N=()=>{const e=new URLSearchParams(window.location.search).get("page");e&&t.useParams&&(l.value=Number(e))};return C(()=>{N()}),(n,e)=>u.total>0?(p(),v("div",R,[l.value>1?(p(),v("div",{key:0,class:"page-item prev",onClick:e[0]||(e[0]=a=>i(l.value===2?`${u.routePath}`:`${u.routePath}/page/${l.value-1}`,l.value===2?1:l.value-1))},e[4]||(e[4]=[c("i",{class:"iconfont icon-back"},null,-1),c("span",{class:"page-text"},"上页",-1)]))):$("",!0),c("div",E,[(p(!0),v(M,null,j(b.value,(a,f)=>(p(),v("div",{key:f,class:k([a==="..."?"point":"page-item",{choose:a===l.value}]),onClick:A=>i(a===1?`${u.routePath}`:`${u.routePath}/page/${a}`,a)},[c("span",K,B(a),1)],10,J))),128)),c("div",{class:k(["fast-jump",{focus:m.value}]),title:"快速跳转"},[I(c("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value=a),min:1,max:o.value,onFocus:e[2]||(e[2]=a=>m.value=!0),onBlur:g,onInput:r,onKeydown:F(g,["enter"])},null,40,U),[[V,s.value,void 0,{number:!0}]]),c("i",{class:k(["iconfont icon-arrow-right",{click:s.value}]),onClick:T(g,["stop"])},null,2)],2)]),l.value*u.limit<u.total?(p(),v("div",{key:1,class:"page-item next",onClick:e[3]||(e[3]=a=>i(`${u.routePath}/page/${l.value+1}`,l.value+1))},e[5]||(e[5]=[c("span",{class:"page-text"},"下页",-1),c("i",{class:"iconfont icon-back"},null,-1)]))):$("",!0)])):$("",!0)}},H=D(q,[["__scopeId","data-v-52b0f8ba"]]),W={__name:"Home",props:{page:{type:Number,default:1}},setup(u){const t=u,{theme:s}=L(),m=w(),{categoryData:d,postsData:l}=S(m),o=P(()=>{const r=s.value.blog.pageSize,i=(t.page-1)*r,g=i+r;return l.value.slice(i,g)}),b=P(()=>Object.keys(d.value).map(r=>({name:r,count:d.value[r].length})).sort((r,i)=>i.count-r.count));return(r,i)=>(p(),v("div",null,[h(O,{home:"",type:"category",data:b.value},null,8,["data"]),c("div",null,[h(_,{data:o.value},null,8,["data"]),h(H,{total:x(l).length,page:t.page,limit:x(s).blog.pageSize},null,8,["total","page","limit"])])]))}},Z=JSON.parse('{"title":"","description":"","frontmatter":{"home":true,"aside":true,"keywords":"荒芜,荒芜博客,笔记分享,荒芜blog","head":[["link",{"rel":"canonical","href":"https://blog.a7bz.cn/"}]]},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),X={name:"index.md"},ee=Object.assign(X,{setup(u){return(t,s)=>(p(),v("div",null,[h(W)]))}});export{Z as __pageData,ee as default};
