import{_ as M,r as i,k as _,l as B,w as I,q as l,s as r,C as s,A as h,x as N,F as m,y as g,D as u,E as f}from"./framework.CB0sRpfv.js";const W={key:0,class:"type-bar s-card hover"},R={class:"all-type-container"},S={class:"all-type"},V=["href","onMousedown"],A={class:"num"},E=["href"],F={key:1,class:"type-bar s-card hover"},P={class:"all-type-container"},U={class:"all-type"},X=["onClick","onMousedown"],j={class:"num"},q=["href"],z={__name:"Tab",props:{prefix:{type:String,default:"pages"},type:{type:String,default:"category"},home:{type:Boolean,default:!1},data:{type:Array,default:[]}},setup(e){const k=e,y=i(0),d=i(),w=_(),b=i(!1),$=i(0),x=i(0),C=i(null);B(()=>{d.value=decodeURIComponent(window.location.pathname)}),I(()=>{var a;return(a=w.route)==null?void 0:a.path},()=>{d.value=decodeURIComponent(window.location.pathname)});const p=(a,o)=>{b.value=!0,C.value=o,$.value=a.clientX,x.value=a.target.parentNode.scrollLeft,a.preventDefault()},v=(a,o)=>{const t=a.target,c=t.closest(".all-type-container"),n=c.offsetWidth,T=t.offsetLeft,D=t.offsetWidth,L=T-n/2+D/2;c.scrollTo({left:L,behavior:"smooth"}),k.type=="click"&&(y.value=o)};return(a,o)=>e.type!="click"?(l(),r("div",W,[s("div",R,[s("div",S,[e.home?(l(),r("a",{key:0,href:"/",class:h(["type-item",{choose:d.value=="/"}])},"主页",2)):N("",!0),(l(!0),r(m,null,g(e.data,(t,c)=>(l(),r("a",{href:`/${e.prefix}/${e.type}/${t.name}`,key:c,class:h(["type-item",{choose:d.value==`/${e.prefix}/${e.type}/${t.name}`}]),onMousedown:n=>p(n,t),onClick:o[0]||(o[0]=n=>v(n))},[u(f(t.name||t.title)+" ",1),s("span",A,f(t.count||t.num),1)],42,V))),128))])]),s("a",{href:`/${e.prefix}/${e.type}`,class:"more-type"},o[1]||(o[1]=[s("i",{class:"iconfont icon-arrow-right"},null,-1),u(" 更多 ")]),8,E)])):(l(),r("div",F,[s("div",P,[s("div",U,[(l(!0),r(m,null,g(e.data,(t,c)=>(l(),r("div",{key:c,class:h(["type-item",{choose:c==y.value}]),onClick:n=>v(n,c),onMousedown:n=>p(n,t)},[u(f(t.name||t.title)+" ",1),s("span",j,f(t.count||t.num),1)],42,X))),128))])]),s("div",{href:`/${e.prefix}/${e.type}`,class:"more-type"},o[2]||(o[2]=[s("i",{class:"iconfont icon-arrow-right"},null,-1),u(" 更多 ")]),8,q)]))}},O=M(z,[["__scopeId","data-v-3062aa7b"]]);export{O as T};
