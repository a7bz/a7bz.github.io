import{_ as e,r as a,G as t,A as o,w as s,k as l,p as n,y as r,s as c,q as i,F as p,I as u,M as d,z as y}from"./framework.DlCmnb5Y.js";const f={key:0,class:"type-bar s-card hover"},v={class:"all-type-container"},m={class:"all-type"},h=["href","onMousedown"],k={class:"num"},w=["href"],$={key:1,class:"type-bar s-card hover"},g={class:"all-type-container"},x={class:"all-type"},b=["onClick","onMousedown"],C={class:"num"},M=["href"],_=e({__name:"Tab",props:{prefix:{type:String,default:"pages"},type:{type:String,default:"category"},home:{type:Boolean,default:!1},data:{type:Array,default:[]}},setup(e){const _=e,I=a(0),T=a(),A=t(),B=a(!1),L=a(0),R=a(0),S=a(null);o((()=>{T.value=decodeURIComponent(window.location.pathname)})),s((()=>{var e;return null==(e=A.route)?void 0:e.path}),(()=>{T.value=decodeURIComponent(window.location.pathname)}));const U=(e,a)=>{B.value=!0,S.value=a,L.value=e.clientX,R.value=e.target.parentNode.scrollLeft,e.preventDefault()},W=(e,a)=>{const t=e.target,o=t.closest(".all-type-container"),s=o.offsetWidth,l=t.offsetLeft-s/2+t.offsetWidth/2;o.scrollTo({left:l,behavior:"smooth"}),"click"==_.type&&(I.value=a)};return(a,t)=>"click"!=e.type?(l(),n("div",f,[r("div",v,[r("div",m,[e.home?(l(),n("a",{key:0,href:"/",class:c(["type-item",{choose:"/"==T.value}])},"主页",2)):i("",!0),(l(!0),n(p,null,u(e.data,((a,o)=>(l(),n("a",{href:`/${e.prefix}/${e.type}/${a.name}`,key:o,class:c(["type-item",{choose:T.value==`/${e.prefix}/${e.type}/${a.name}`}]),onMousedown:e=>U(e,a),onClick:t[0]||(t[0]=e=>W(e))},[d(y(a.name||a.title)+" ",1),r("span",k,y(a.count||a.num),1)],42,h)))),128))])]),r("a",{href:`/${e.prefix}/${e.type}`,class:"more-type"},t[1]||(t[1]=[r("i",{class:"iconfont icon-arrow-right"},null,-1),d(" 更多 ")]),8,w)])):(l(),n("div",$,[r("div",g,[r("div",x,[(l(!0),n(p,null,u(e.data,((e,a)=>(l(),n("div",{key:a,class:c(["type-item",{choose:a==I.value}]),onClick:e=>W(e,a),onMousedown:a=>U(a,e)},[d(y(e.name||e.title)+" ",1),r("span",C,y(e.count||e.num),1)],42,b)))),128))])]),r("div",{href:`/${e.prefix}/${e.type}`,class:"more-type"},t[2]||(t[2]=[r("i",{class:"iconfont icon-arrow-right"},null,-1),d(" 更多 ")]),8,M)]))}},[["__scopeId","data-v-3062aa7b"]]);export{_ as T};
