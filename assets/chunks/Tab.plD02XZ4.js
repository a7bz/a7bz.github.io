import{_ as L,r as i,k as M,l as _,w as I,q as l,s as r,B as s,z as h,x as N,F as m,y as g,C as u,D as f}from"./framework.BajmUx9d.js";const W={key:0,class:"type-bar s-card hover"},R={class:"all-type-container"},S={class:"all-type"},V=["href","onMousedown"],z={class:"num"},F=["href"],P={key:1,class:"type-bar s-card hover"},U={class:"all-type-container"},X={class:"all-type"},j=["onClick","onMousedown"],q={class:"num"},A=["href"],E={__name:"Tab",props:{prefix:{type:String,default:"pages"},type:{type:String,default:"category"},home:{type:Boolean,default:!1},data:{type:Array,default:[]}},setup(e){const k=e,y=i(0),d=i(),w=M(),b=i(!1),$=i(0),x=i(0),C=i(null);_(()=>{d.value=decodeURIComponent(window.location.pathname)}),I(()=>{var a;return(a=w.route)==null?void 0:a.path},()=>{d.value=decodeURIComponent(window.location.pathname)});const p=(a,o)=>{b.value=!0,C.value=o,$.value=a.clientX,x.value=a.target.parentNode.scrollLeft,a.preventDefault()},v=(a,o)=>{const t=a.target,c=t.closest(".all-type-container"),n=c.offsetWidth,T=t.offsetLeft,B=t.offsetWidth,D=T-n/2+B/2;c.scrollTo({left:D,behavior:"smooth"}),k.type=="click"&&(y.value=o)};return(a,o)=>e.type!="click"?(l(),r("div",W,[s("div",R,[s("div",S,[e.home?(l(),r("a",{key:0,href:"/",class:h(["type-item",{choose:d.value=="/"}])},"主页",2)):N("",!0),(l(!0),r(m,null,g(e.data,(t,c)=>(l(),r("a",{href:`/${e.prefix}/${e.type}/${t.name}`,key:c,class:h(["type-item",{choose:d.value==`/${e.prefix}/${e.type}/${t.name}`}]),onMousedown:n=>p(n,t),onClick:o[0]||(o[0]=n=>v(n))},[u(f(t.name||t.title)+" ",1),s("span",z,f(t.count||t.num),1)],42,V))),128))])]),s("a",{href:`/${e.prefix}/${e.type}`,class:"more-type"},o[1]||(o[1]=[s("i",{class:"iconfont icon-arrow-right"},null,-1),u(" 更多 ")]),8,F)])):(l(),r("div",P,[s("div",U,[s("div",X,[(l(!0),r(m,null,g(e.data,(t,c)=>(l(),r("div",{key:c,class:h(["type-item",{choose:c==y.value}]),onClick:n=>v(n,c),onMousedown:n=>p(n,t)},[u(f(t.name||t.title)+" ",1),s("span",q,f(t.count||t.num),1)],42,j))),128))])]),s("div",{href:`/${e.prefix}/${e.type}`,class:"more-type"},o[2]||(o[2]=[s("i",{class:"iconfont icon-arrow-right"},null,-1),u(" 更多 ")]),8,A)]))}},O=L(E,[["__scopeId","data-v-7140e260"]]);export{O as T};
