import{_ as a,r as e,G as l,c as u,A as t,k as s,p as o,y as n,q as i,F as r,I as v,s as p,J as c,af as m,ag as g,N as h,z as d}from"./framework.D4eJsr-_.js";const f={key:0,class:"pagination"},P={class:"page-number"},$=["onClick"],k={class:"page-num"},b=["max"],y=a({__name:"Pagination",props:{total:{type:Number,default:0},page:{type:Number,default:1},limit:{type:Number,default:5},routePath:{type:String,default:""},useParams:{type:Boolean,default:!1},wingSize:{type:Number,default:1}},setup(a){const y=a,w=e(null),N=e(!1),x=l(),C=e(y.page),S=u((()=>Math.ceil(y.total/y.limit))),_=u((()=>{let a=[],e=Math.max(C.value-y.wingSize,2),l=Math.min(C.value+y.wingSize,S.value-1);a.push(1),e>2?a.push("..."):e=2;for(let u=e;u<=l;u++)a.push(u);return l<S.value-1?a.push("..."):l===S.value-1&&(l=S.value-1),S.value>1&&a.push(S.value),a})),z=()=>{const a=Number(w.value);!Number.isInteger(a)||a<1?w.value=null:a>S.value?w.value=S.value:w.value=a},I=(a,e)=>{y.useParams?1===e?x.go(`${y.routePath}`):x.go(`${y.routePath}?page=${e}`):x.go(a)},M=()=>{if(N.value=!1,!w.value)return!1;I(1===w.value?`${y.routePath}`:`${y.routePath}/page/${w.value}`,w.value)};return t((()=>{(()=>{const a=new URLSearchParams(window.location.search).get("page");a&&y.useParams&&(C.value=Number(a))})()})),(e,l)=>a.total>0?(s(),o("div",f,[C.value>1?(s(),o("div",{key:0,class:"page-item prev",onClick:l[0]||(l[0]=e=>I(2===C.value?`${a.routePath}`:`${a.routePath}/page/${C.value-1}`,2===C.value?1:C.value-1))},[...l[4]||(l[4]=[n("i",{class:"iconfont icon-back"},null,-1),n("span",{class:"page-text"},"上页",-1)])])):i("",!0),n("div",P,[(s(!0),o(r,null,v(_.value,((e,l)=>(s(),o("div",{key:l,class:p(["..."===e?"point":"page-item",{choose:e===C.value}]),onClick:l=>I(1===e?`${a.routePath}`:`${a.routePath}/page/${e}`,e)},[n("span",k,d(e),1)],10,$)))),128)),n("div",{class:p(["fast-jump",{focus:N.value}]),title:"快速跳转"},[c(n("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>w.value=a),min:1,max:S.value,onFocus:l[2]||(l[2]=a=>N.value=!0),onBlur:M,onInput:z,onKeydown:g(M,["enter"])},null,40,b),[[m,w.value,void 0,{number:!0}]]),n("i",{class:p(["iconfont icon-arrow-right",{click:w.value}]),onClick:h(M,["stop"])},null,2)],2)]),C.value*a.limit<a.total?(s(),o("div",{key:1,class:"page-item next",onClick:l[3]||(l[3]=e=>I(`${a.routePath}/page/${C.value+1}`,C.value+1))},[...l[5]||(l[5]=[n("span",{class:"page-text"},"下页",-1),n("i",{class:"iconfont icon-back"},null,-1)])])):i("",!0)])):i("",!0)}},[["__scopeId","data-v-52b0f8ba"]]);export{y as P};
