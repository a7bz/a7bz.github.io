import{_ as v,p as b,q as n,H as C,O as f,s as l,C as e,E as u,x as c,F as L,y as B,A as y,v as k,Q as x,u as F,r as $,l as D,d as _,M as g,X as E,P as w,D as V,S as U}from"./chunks/framework.CB0sRpfv.js";const j={key:0,class:"link-list"},S={class:"link-type-list"},P={class:"title"},z={class:"name"},N={key:0,class:"name-count"},R={class:"all-link"},A=["href"],M={class:"cover"},O=["src","alt"],T={class:"data"},I={class:"desc"},H={key:1,class:"s-card empty"},J={__name:"LinkList",props:{listData:{type:[Array,String],default:()=>[]},showCount:{type:Boolean,default:!0},useFriendsLink:{type:Boolean,default:!1}},setup(r){return(h,a)=>{const i=b("LazyLoader"),d=b("empty");return n(),C(x,{name:"fade",mode:"out-in"},{default:f(()=>{var o,p;return[(o=r.listData)!=null&&o.length?(n(),l("div",j,[e("div",S,[e("div",P,[e("h2",z,[a[1]||(a[1]=e("span",{class:"name-text"},"友链",-1)),r.showCount?(n(),l("span",N,"（"+u(((p=r.listData)==null?void 0:p.length)||0)+"）",1)):c("",!0)])]),e("div",R,[(n(!0),l(L,null,B(r.listData,(s,t)=>(n(),l("a",{key:t,class:y(["link-card","s-card"]),href:s==null?void 0:s.url,target:"_blank",rel:"noreferrer"},[e("div",M,[k(i,{useFriendsLink:s.avatar||s.ico||s.image},{default:f(()=>[e("img",{src:s.avatar||s.ico||s.image,class:y(["cover-img",{"cf-friends-avatar":r.useFriendsLink}]),alt:(s==null?void 0:s.name)||"cover",onLoad:a[0]||(a[0]=m=>m.target.classList.add("loaded"))},null,42,O)]),_:2},1032,["useFriendsLink"])]),e("div",T,[e("span",{class:y(["name",{"cf-friends-name":r.useFriendsLink}])},u(s.name||s.title),3),e("span",I,u(s.desc||s.description),1)])],8,A))),128))])])])):(n(),l("div",H,[k(d,{description:"友链加载中..."})]))]}),_:1})}}},Q=v(J,[["__scopeId","data-v-75ecf9c1"]]),X={__name:"Link",setup(r){const{theme:h}=F(),a=$([]);return D(()=>{var i,d;fetch((d=(i=h.value)==null?void 0:i.blog)==null?void 0:d.friendsLink).then(o=>o.json()).then(o=>{a.value=o.content||o.data})}),(i,d)=>(n(),l("div",null,[k(Q,{listData:a.value,useFriendsLink:""},null,8,["listData"])]))}},G={class:"form-container s-card"},K={class:"form-item"},W={key:0},Y={class:"form-item"},Z={key:0},ss={class:"form-item"},as={key:0},es={class:"form-item"},is={key:0},ts={__name:"ApplyLink",setup(r){const{theme:h}=F(),a=_({name:"",url:"",image:"",description:""}),i=_({name:"",url:"",image:"",description:""});function d(){let p=!0;i.name=a.name?"":"名称不能为空",i.url=a.url?"":"请输入有效的URL",i.image=a.image?"":"请输入有效的图片URL",i.description=a.description?"":"描述不能为空";for(const s in i)i[s]&&(p=!1);return p}async function o(){var p,s;if(d()){const t=new FormData;t.append("name",a.name),t.append("url",a.url),t.append("image",a.image),t.append("description",a.description);const m=await fetch(((s=(p=h.value)==null?void 0:p.blog)==null?void 0:s.qexo)+"/pub/ask_friend",{method:"POST",body:t,redirect:"follow"});if(m.ok){const q=await m.json();alert(q.msg),a.name="",a.url="",a.image="",a.description=""}else alert("提交失败，请重试。")}}return(p,s)=>(n(),l("div",G,[e("form",{onSubmit:w(o,["prevent"])},[e("div",K,[s[4]||(s[4]=e("label",{for:"name"},"名称:",-1)),g(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=t=>a.name=t),required:"",placeholder:"请输入名称"},null,512),[[E,a.name]]),i.name?(n(),l("span",W,u(i.name),1)):c("",!0)]),e("div",Y,[s[5]||(s[5]=e("label",{for:"url"},"链接:",-1)),g(e("input",{id:"url","onUpdate:modelValue":s[1]||(s[1]=t=>a.url=t),type:"url",required:"",placeholder:"请输入有效的URL"},null,512),[[E,a.url]]),i.url?(n(),l("span",Z,u(i.url),1)):c("",!0)]),e("div",ss,[s[6]||(s[6]=e("label",{for:"image"},"图片URL:",-1)),g(e("input",{id:"image","onUpdate:modelValue":s[2]||(s[2]=t=>a.image=t),type:"url",required:"",placeholder:"请输入图片URL"},null,512),[[E,a.image]]),i.image?(n(),l("span",as,u(i.image),1)):c("",!0)]),e("div",es,[s[7]||(s[7]=e("label",{for:"description"},"描述:",-1)),g(e("textarea",{id:"description","onUpdate:modelValue":s[3]||(s[3]=t=>a.description=t),required:"",placeholder:"请输入描述"},null,512),[[E,a.description]]),i.description?(n(),l("span",is,u(i.description),1)):c("",!0)]),s[8]||(s[8]=e("div",{style:{display:"flex","justify-content":"center"}},[e("button",{type:"submit",class:"submit-btn"},"提交")],-1))],32)]))}},ns=v(ts,[["__scopeId","data-v-57b66acb"]]),ls={class:"details custom-block"},ps=JSON.parse('{"title":"友情链接","description":"","frontmatter":{"title":"友情链接","aside":false,"comment":true,"head":[["link",{"rel":"canonical","href":"https://blog.a7bz.cn/pages/link"}]]},"headers":[],"relativePath":"pages/link.md","filePath":"pages/link.md"}'),rs={name:"pages/link.md"},ds=Object.assign(rs,{setup(r){return(h,a)=>(n(),l("div",null,[k(X),a[1]||(a[1]=e("h1",{id:"友情链接申请",tabindex:"-1"},[V("友情链接申请 "),e("a",{class:"header-anchor",href:"#友情链接申请","aria-label":'Permalink to "友情链接申请"'},"​")],-1)),a[2]||(a[2]=e("p",null,"欢迎交换友链，本站友链目前提交表单审核后添加，如果你想加入友链，请填写下方表单或按指定格式留言。",-1)),e("details",ls,[a[0]||(a[0]=e("summary",null,"友链申请",-1)),k(ns)]),a[3]||(a[3]=U(`<h3 id="留言格式" tabindex="-1">留言格式 <a class="header-anchor" href="#留言格式" aria-label="Permalink to &quot;留言格式&quot;">​</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;网站或个人昵称&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;完整的主页地址&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;avatar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;头像链接&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;网站或个人简介&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="我的友链信息" tabindex="-1">我的友链信息 <a class="header-anchor" href="#我的友链信息" aria-label="Permalink to &quot;我的友链信息&quot;">​</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;荒芜&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://blog.a7bz.cn/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;avatar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://blog.a7bz.cn/logo.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;记录分享一些笔记&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,4))]))}});export{ps as __pageData,ds as default};
