import{u as a,s as e,P as t}from"./chunks/theme.DIYDFp1n.js";import{_ as l,r as u,G as s,c as o,A as n,k as i,p as r,y as p,q as v,F as c,I as m,s as g,z as d,J as h,ac as f,ad as b,N as k,v as y,C as P,u as $}from"./chunks/framework.DlCmnb5Y.js";import{T as w}from"./chunks/Tab.CLFLp3q7.js";const x={key:0,class:"pagination"},N={class:"page-number"},S=["onClick"],z={class:"page-num"},_=["max"],j=l({__name:"Pagination",props:{total:{type:Number,default:0},page:{type:Number,default:1},limit:{type:Number,default:5},routePath:{type:String,default:""},useParams:{type:Boolean,default:!1},wingSize:{type:Number,default:1}},setup(a){const e=a,t=u(null),l=u(!1),y=s(),P=u(e.page),$=o((()=>Math.ceil(e.total/e.limit))),w=o((()=>{let a=[],t=Math.max(P.value-e.wingSize,2),l=Math.min(P.value+e.wingSize,$.value-1);a.push(1),t>2?a.push("..."):t=2;for(let e=t;e<=l;e++)a.push(e);return l<$.value-1?a.push("..."):l===$.value-1&&(l=$.value-1),$.value>1&&a.push($.value),a})),j=()=>{const a=Number(t.value);!Number.isInteger(a)||a<1?t.value=null:a>$.value?t.value=$.value:t.value=a},C=(a,t)=>{e.useParams?1===t?y.go(`${e.routePath}`):y.go(`${e.routePath}?page=${t}`):y.go(a)},I=()=>{if(l.value=!1,!t.value)return!1;C(1===t.value?`${e.routePath}`:`${e.routePath}/page/${t.value}`,t.value)};return n((()=>{(()=>{const a=new URLSearchParams(window.location.search).get("page");a&&e.useParams&&(P.value=Number(a))})()})),(e,u)=>a.total>0?(i(),r("div",x,[P.value>1?(i(),r("div",{key:0,class:"page-item prev",onClick:u[0]||(u[0]=e=>C(2===P.value?`${a.routePath}`:`${a.routePath}/page/${P.value-1}`,2===P.value?1:P.value-1))},u[4]||(u[4]=[p("i",{class:"iconfont icon-back"},null,-1),p("span",{class:"page-text"},"上页",-1)]))):v("",!0),p("div",N,[(i(!0),r(c,null,m(w.value,((e,t)=>(i(),r("div",{key:t,class:g(["..."===e?"point":"page-item",{choose:e===P.value}]),onClick:t=>C(1===e?`${a.routePath}`:`${a.routePath}/page/${e}`,e)},[p("span",z,d(e),1)],10,S)))),128)),p("div",{class:g(["fast-jump",{focus:l.value}]),title:"快速跳转"},[h(p("input",{"onUpdate:modelValue":u[1]||(u[1]=a=>t.value=a),min:1,max:$.value,onFocus:u[2]||(u[2]=a=>l.value=!0),onBlur:I,onInput:j,onKeydown:b(I,["enter"])},null,40,_),[[f,t.value,void 0,{number:!0}]]),p("i",{class:g(["iconfont icon-arrow-right",{click:t.value}]),onClick:k(I,["stop"])},null,2)],2)]),P.value*a.limit<a.total?(i(),r("div",{key:1,class:"page-item next",onClick:u[3]||(u[3]=e=>C(`${a.routePath}/page/${P.value+1}`,P.value+1))},u[5]||(u[5]=[p("span",{class:"page-text"},"下页",-1),p("i",{class:"iconfont icon-back"},null,-1)]))):v("",!0)])):v("",!0)}},[["__scopeId","data-v-52b0f8ba"]]),C={__name:"Home",props:{page:{type:Number,default:1}},setup(l){const u=l,{theme:s}=y(),n=a(),{categoryData:v,postsData:c}=e(n),m=o((()=>{const a=s.value.blog.pageSize,e=(u.page-1)*a,t=e+a;return c.value.slice(e,t)})),g=o((()=>Object.keys(v.value).map((a=>({name:a,count:v.value[a].length}))).sort(((a,e)=>e.count-a.count))));return(a,e)=>(i(),r("div",null,[P(w,{home:"",type:"category",data:g.value},null,8,["data"]),p("div",null,[P(t,{data:m.value},null,8,["data"]),P(j,{total:$(c).length,page:u.page,limit:$(s).blog.pageSize},null,8,["total","page","limit"])])]))}},I=JSON.parse('{"title":"","description":"","frontmatter":{"home":true,"aside":true,"keywords":"荒芜,荒芜博客,笔记分享,荒芜blog"},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),M={name:"index.md"},O=Object.assign(M,{setup:a=>(a,e)=>(i(),r("div",null,[P(C)]))});export{I as __pageData,O as default};
