import{u as a,s as e,P as t}from"./chunks/theme.B1EDmKQy.js";import{_ as l,r as u,k as s,j as n,l as o,q as i,s as r,C as p,x as c,F as v,y as m,z as g,E as d,N as h,X as f,Y as b,P as k,u as P,v as y,G as $}from"./chunks/framework.DHRXswU1.js";import{T as x}from"./chunks/Tab.DS6HgwOf.js";const w={key:0,class:"pagination"},N={class:"page-number"},S=["onClick"],j={class:"page-num"},z=["max"],C=l({__name:"Pagination",props:{total:{type:Number,default:0},page:{type:Number,default:1},limit:{type:Number,default:5},routePath:{type:String,default:""},useParams:{type:Boolean,default:!1},wingSize:{type:Number,default:1}},setup(a){const e=a,t=u(null),l=u(!1),P=s(),y=u(e.page),$=n((()=>Math.ceil(e.total/e.limit))),x=n((()=>{let a=[],t=Math.max(y.value-e.wingSize,2),l=Math.min(y.value+e.wingSize,$.value-1);a.push(1),t>2?a.push("..."):t=2;for(let e=t;e<=l;e++)a.push(e);return l<$.value-1?a.push("..."):l===$.value-1&&(l=$.value-1),$.value>1&&a.push($.value),a})),C=()=>{const a=Number(t.value);!Number.isInteger(a)||a<1?t.value=null:a>$.value?t.value=$.value:t.value=a},_=(a,t)=>{e.useParams?1===t?P.go(`${e.routePath}`):P.go(`${e.routePath}?page=${t}`):P.go(a)},I=()=>{if(l.value=!1,!t.value)return!1;_(1===t.value?`${e.routePath}`:`${e.routePath}/page/${t.value}`,t.value)};return o((()=>{(()=>{const a=new URLSearchParams(window.location.search).get("page");a&&e.useParams&&(y.value=Number(a))})()})),(e,u)=>a.total>0?(i(),r("div",w,[y.value>1?(i(),r("div",{key:0,class:"page-item prev",onClick:u[0]||(u[0]=e=>_(2===y.value?`${a.routePath}`:`${a.routePath}/page/${y.value-1}`,2===y.value?1:y.value-1))},u[4]||(u[4]=[p("i",{class:"iconfont icon-back"},null,-1),p("span",{class:"page-text"},"上页",-1)]))):c("",!0),p("div",N,[(i(!0),r(v,null,m(x.value,((e,t)=>(i(),r("div",{key:t,class:g(["..."===e?"point":"page-item",{choose:e===y.value}]),onClick:t=>_(1===e?`${a.routePath}`:`${a.routePath}/page/${e}`,e)},[p("span",j,d(e),1)],10,S)))),128)),p("div",{class:g(["fast-jump",{focus:l.value}]),title:"快速跳转"},[h(p("input",{"onUpdate:modelValue":u[1]||(u[1]=a=>t.value=a),min:1,max:$.value,onFocus:u[2]||(u[2]=a=>l.value=!0),onBlur:I,onInput:C,onKeydown:b(I,["enter"])},null,40,z),[[f,t.value,void 0,{number:!0}]]),p("i",{class:g(["iconfont icon-arrow-right",{click:t.value}]),onClick:k(I,["stop"])},null,2)],2)]),y.value*a.limit<a.total?(i(),r("div",{key:1,class:"page-item next",onClick:u[3]||(u[3]=e=>_(`${a.routePath}/page/${y.value+1}`,y.value+1))},u[5]||(u[5]=[p("span",{class:"page-text"},"下页",-1),p("i",{class:"iconfont icon-back"},null,-1)]))):c("",!0)])):c("",!0)}},[["__scopeId","data-v-52b0f8ba"]]),_={__name:"Home",props:{page:{type:Number,default:1}},setup(l){const u=l,{theme:s}=P(),o=a(),{categoryData:c,postsData:v}=e(o),m=n((()=>{const a=s.value.blog.pageSize,e=(u.page-1)*a,t=e+a;return v.value.slice(e,t)})),g=n((()=>Object.keys(c.value).map((a=>({name:a,count:c.value[a].length}))).sort(((a,e)=>e.count-a.count))));return(a,e)=>(i(),r("div",null,[y(x,{home:"",type:"category",data:g.value},null,8,["data"]),p("div",null,[y(t,{data:m.value},null,8,["data"]),y(C,{total:$(v).length,page:u.page,limit:$(s).blog.pageSize},null,8,["total","page","limit"])])]))}},I=JSON.parse('{"title":"","description":"记录分享一些笔记","frontmatter":{"home":true,"aside":true,"keywords":"荒芜,荒芜博客,笔记分享,荒芜blog","head":[["link",{"rel":"canonical","href":"https://blog.a7bz.cn/"}]],"description":"记录分享一些笔记"},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),M={name:"index.md"},O=Object.assign(M,{setup:a=>(a,e)=>(i(),r("div",null,[y(_)]))});export{I as __pageData,O as default};
